version: "3.9"

services:
  redis:
    image: "redis:alpine"
    command: ["redis-server", "--appendonly", "yes"]
    hostname: redis
    networks: 
      - reserly-api
  web:
    container_name: reserly_api
    # restart: always
    image: node:12
    stdin_open: true # docker run -i
    tty: true
    build: .
    ports:
      - "8001:8001"
    volumes:
      - ./src:/usr/src/app/src
      # - /usr/src/app/node_modules/
    networks: 
      - reserly-api
networks: 
  reserly-api:
    driver: bridge